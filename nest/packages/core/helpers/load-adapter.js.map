{"version":3,"file":"load-adapter.js","sourceRoot":"/Users/hanxiaoxue/Documents/work/frontEndDebugger/nest/packages/core/","sources":["helpers/load-adapter.ts"],"names":[],"mappings":";;;AAAA,2CAAwC;AAExC,MAAM,2BAA2B,GAAG,CAClC,eAAuB,EACvB,SAAiB,EACjB,EAAE,CACF,cAAc,SAAS,yGAAyG,eAAe,4BAA4B,eAAe,IAAI,CAAC;AAEjM,MAAM,MAAM,GAAG,IAAI,eAAM,CAAC,eAAe,CAAC,CAAC;AAE3C,SAAgB,WAAW,CACzB,eAAuB,EACvB,SAAiB,EACjB,QAAmB;IAEnB,IAAI;QACF,OAAO,QAAQ,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;KACzD;IAAC,OAAO,CAAC,EAAE;QACV,MAAM,CAAC,KAAK,CAAC,2BAA2B,CAAC,eAAe,EAAE,SAAS,CAAC,CAAC,CAAC;QACtE,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACjB;AACH,CAAC;AAXD,kCAWC","sourcesContent":["import { Logger } from '@nestjs/common';\n\nconst MISSING_REQUIRED_DEPENDENCY = (\n  defaultPlatform: string,\n  transport: string,\n) =>\n  `No driver (${transport}) has been selected. In order to take advantage of the default driver, please, ensure to install the \"${defaultPlatform}\" package ($ npm install ${defaultPlatform}).`;\n\nconst logger = new Logger('PackageLoader');\n\nexport function loadAdapter(\n  defaultPlatform: string,\n  transport: string,\n  loaderFn?: Function,\n) {\n  try {\n    return loaderFn ? loaderFn() : require(defaultPlatform);\n  } catch (e) {\n    logger.error(MISSING_REQUIRED_DEPENDENCY(defaultPlatform, transport));\n    process.exit(1);\n  }\n}\n"]}