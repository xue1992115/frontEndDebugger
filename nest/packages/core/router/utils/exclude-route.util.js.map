{"version":3,"file":"exclude-route.util.js","sourceRoot":"/Users/hanxiaoxue/Documents/work/frontEndDebugger/nest/packages/core/","sources":["router/utils/exclude-route.util.ts"],"names":[],"mappings":";;;AAAA,2CAA+C;AAC/C,oEAAoE;AAG7D,MAAM,kBAAkB,GAAG,CAAC,MAAqB,EAAE,EAAE;IAC1D,OAAO,sBAAa,CAAC,GAAG,KAAK,MAAM,IAAK,MAAiB,KAAK,CAAC,CAAC,CAAC;AACnE,CAAC,CAAC;AAFW,QAAA,kBAAkB,sBAE7B;AAEF,SAAgB,eAAe,CAC7B,cAAsC,EACtC,IAAY,EACZ,aAA6B;IAE7B,OAAO,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QACjC,IACE,IAAA,0BAAkB,EAAC,KAAK,CAAC,aAAa,CAAC;YACvC,KAAK,CAAC,aAAa,KAAK,aAAa,EACrC;YACA,OAAO,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,IAAA,8BAAe,EAAC,IAAI,CAAC,CAAC,CAAC;SACpD;QACD,OAAO,KAAK,CAAC;IACf,CAAC,CAAC,CAAC;AACL,CAAC;AAdD,0CAcC","sourcesContent":["import { RequestMethod } from '@nestjs/common';\nimport { addLeadingSlash } from '@nestjs/common/utils/shared.utils';\nimport { ExcludeRouteMetadata } from '../interfaces/exclude-route-metadata.interface';\n\nexport const isRequestMethodAll = (method: RequestMethod) => {\n  return RequestMethod.ALL === method || (method as number) === -1;\n};\n\nexport function isRouteExcluded(\n  excludedRoutes: ExcludeRouteMetadata[],\n  path: string,\n  requestMethod?: RequestMethod,\n) {\n  return excludedRoutes.some(route => {\n    if (\n      isRequestMethodAll(route.requestMethod) ||\n      route.requestMethod === requestMethod\n    ) {\n      return route.pathRegex.exec(addLeadingSlash(path));\n    }\n    return false;\n  });\n}\n"]}