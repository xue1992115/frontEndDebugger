{"version":3,"file":"deterministic-uuid-registry.js","sourceRoot":"/Users/hanxiaoxue/Documents/work/frontEndDebugger/nest/packages/core/","sources":["inspector/deterministic-uuid-registry.ts"],"names":[],"mappings":";;;AAAA,MAAa,yBAAyB;IAGpC,MAAM,CAAC,GAAG,CAAC,GAAW,EAAE,GAAG,GAAG,CAAC;QAC7B,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACrE,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;YACzB,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;SAC/B;QACD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QAC5B,OAAO,EAAE,CAAC;IACZ,CAAC;IAED,MAAM,CAAC,KAAK;QACV,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;IACxB,CAAC;IAEO,MAAM,CAAC,QAAQ,CAAC,CAAS;QAC/B,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE;YAC/B,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAC/C,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC;IACtB,CAAC;;AApBuB,kCAAQ,GAAG,IAAI,GAAG,EAAmB,CAAC;AADnD,8DAAyB","sourcesContent":["export class DeterministicUuidRegistry {\n  private static readonly registry = new Map<string, boolean>();\n\n  static get(str: string, inc = 0) {\n    const id = inc ? this.hashCode(`${str}_${inc}`) : this.hashCode(str);\n    if (this.registry.has(id)) {\n      return this.get(str, inc + 1);\n    }\n    this.registry.set(id, true);\n    return id;\n  }\n\n  static clear() {\n    this.registry.clear();\n  }\n\n  private static hashCode(s: string) {\n    let h = 0;\n    for (let i = 0; i < s.length; i++)\n      h = (Math.imul(31, h) + s.charCodeAt(i)) | 0;\n    return h.toString();\n  }\n}\n"]}