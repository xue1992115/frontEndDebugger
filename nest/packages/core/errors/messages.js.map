{"version":3,"file":"messages.js","sourceRoot":"/Users/hanxiaoxue/Documents/work/frontEndDebugger/nest/packages/core/","sources":["errors/messages.ts"],"names":[],"mappings":"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","sourcesContent":["import type { ForwardReference, Type, DynamicModule } from '@nestjs/common';\nimport { isNil, isSymbol } from '@nestjs/common/utils/shared.utils';\nimport {\n  InjectorDependency,\n  InjectorDependencyContext,\n} from '../injector/injector';\nimport { Module } from '../injector/module';\n\n/**\n * Returns the name of an instance or `undefined`\n * @param instance The instance which should get the name from\n */\nconst getInstanceName = (instance: unknown): string => {\n  if ((instance as ForwardReference)?.forwardRef) {\n    return (instance as ForwardReference).forwardRef()?.name;\n  }\n\n  if ((instance as DynamicModule)?.module) {\n    return (instance as DynamicModule).module?.name;\n  }\n\n  return (instance as Type)?.name;\n};\n\n/**\n * Returns the name of the dependency\n * Tries to get the class name, otherwise the string value\n * (= injection token). As fallback it returns '+'\n * @param dependency The name of the dependency to be displayed\n */\nconst getDependencyName = (dependency: InjectorDependency): string =>\n  // use class name\n  getInstanceName(dependency) ||\n  // use injection token (symbol)\n  (isSymbol(dependency) && dependency.toString()) ||\n  // use string directly\n  (dependency as string) ||\n  // otherwise\n  '+';\n\n/**\n * Returns the name of the module\n * Tries to get the class name. As fallback it returns 'current'.\n * @param module The module which should get displayed\n */\nconst getModuleName = (module: Module) =>\n  (module && getInstanceName(module.metatype)) || 'current';\n\nconst stringifyScope = (scope: any[]): string =>\n  (scope || []).map(getInstanceName).join(' -> ');\n\nexport const UNKNOWN_DEPENDENCIES_MESSAGE = (\n  type: string | symbol,\n  unknownDependencyContext: InjectorDependencyContext,\n  module: Module,\n) => {\n  const {\n    index,\n    name = 'dependency',\n    dependencies,\n    key,\n  } = unknownDependencyContext;\n  const moduleName = getModuleName(module);\n  const dependencyName = getDependencyName(name);\n\n  const potentialSolutions =\n    // If module's name is well defined\n    moduleName !== 'current'\n      ? `\\n\nPotential solutions:\n- Is ${moduleName} a valid NestJS module?\n- If ${dependencyName} is a provider, is it part of the current ${moduleName}?\n- If ${dependencyName} is exported from a separate @Module, is that module imported within ${moduleName}?\n  @Module({\n    imports: [ /* the Module containing ${dependencyName} */ ]\n  })\n`\n      : `\\n\nPotential solutions:\n- If ${dependencyName} is a provider, is it part of the current Module?\n- If ${dependencyName} is exported from a separate @Module, is that module imported within Module?\n  @Module({\n    imports: [ /* the Module containing ${dependencyName} */ ]\n  })\n`;\n\n  let message = `Nest can't resolve dependencies of the ${type.toString()}`;\n\n  if (isNil(index)) {\n    message += `. Please make sure that the \"${key.toString()}\" property is available in the current context.${potentialSolutions}`;\n    return message;\n  }\n  const dependenciesName = (dependencies || []).map(getDependencyName);\n  dependenciesName[index] = '?';\n\n  message += ` (`;\n  message += dependenciesName.join(', ');\n  message += `). Please make sure that the argument ${dependencyName} at index [${index}] is available in the ${moduleName} context.`;\n  message += potentialSolutions;\n\n  return message;\n};\n\nexport const INVALID_MIDDLEWARE_MESSAGE = (\n  text: TemplateStringsArray,\n  name: string,\n) => `The middleware doesn't provide the 'use' method (${name})`;\n\nexport const UNDEFINED_FORWARDREF_MESSAGE = (\n  scope: Type<any>[],\n) => `Nest cannot create the module instance. Often, this is because of a circular dependency between modules. Use forwardRef() to avoid it.\n\n(Read more: https://docs.nestjs.com/fundamentals/circular-dependency)\nScope [${stringifyScope(scope)}]\n`;\n\nexport const INVALID_MODULE_MESSAGE = (\n  parentModule: any,\n  index: number,\n  scope: any[],\n) => {\n  const parentModuleName = parentModule?.name || 'module';\n\n  return `Nest cannot create the ${parentModuleName} instance.\nReceived an unexpected value at index [${index}] of the ${parentModuleName} \"imports\" array.\n\nScope [${stringifyScope(scope)}]`;\n};\n\nexport const USING_INVALID_CLASS_AS_A_MODULE_MESSAGE = (\n  metatypeUsedAsAModule: Type | ForwardReference,\n  scope: any[],\n) => {\n  const metatypeNameQuote =\n    `\"${getInstanceName(metatypeUsedAsAModule)}\"` || 'that class';\n\n  return `Classes annotated with @Injectable(), @Catch(), and @Controller() decorators must not appear in the \"imports\" array of a module.\nPlease remove ${metatypeNameQuote} (including forwarded occurrences, if any) from all of the \"imports\" arrays.\n\nScope [${stringifyScope(scope)}]\n`;\n};\n\nexport const UNDEFINED_MODULE_MESSAGE = (\n  parentModule: any,\n  index: number,\n  scope: any[],\n) => {\n  const parentModuleName = parentModule?.name || 'module';\n\n  return `Nest cannot create the ${parentModuleName} instance.\nThe module at index [${index}] of the ${parentModuleName} \"imports\" array is undefined.\n\nPotential causes:\n- A circular dependency between modules. Use forwardRef() to avoid it. Read more: https://docs.nestjs.com/fundamentals/circular-dependency\n- The module at index [${index}] is of type \"undefined\". Check your import statements and the type of the module.\n\nScope [${stringifyScope(scope)}]`;\n};\n\nexport const UNKNOWN_EXPORT_MESSAGE = (\n  token: string | symbol = 'item',\n  module: string,\n) => {\n  token = isSymbol(token) ? token.toString() : token;\n\n  return `Nest cannot export a provider/module that is not a part of the currently processed module (${module}). Please verify whether the exported ${token} is available in this particular context.\n\nPossible Solutions:\n- Is ${token} part of the relevant providers/imports within ${module}?\n`;\n};\n\nexport const INVALID_CLASS_MESSAGE = (text: TemplateStringsArray, value: any) =>\n  `ModuleRef cannot instantiate class (${value} is not constructable).`;\n\nexport const INVALID_CLASS_SCOPE_MESSAGE = (\n  text: TemplateStringsArray,\n  name: string | undefined,\n) =>\n  `${\n    name || 'This class'\n  } is marked as a scoped provider. Request and transient-scoped providers can't be used in combination with \"get()\" method. Please, use \"resolve()\" instead.`;\n\nexport const UNKNOWN_REQUEST_MAPPING = (metatype: Type) => {\n  const className = metatype.name;\n  return className\n    ? `An invalid controller has been detected. \"${className}\" does not have the @Controller() decorator but it is being listed in the \"controllers\" array of some module.`\n    : `An invalid controller has been detected. Perhaps, one of your controllers is missing the @Controller() decorator.`;\n};\n\nexport const INVALID_MIDDLEWARE_CONFIGURATION = `An invalid middleware configuration has been passed inside the module 'configure()' method.`;\nexport const UNHANDLED_RUNTIME_EXCEPTION = `Unhandled Runtime Exception.`;\nexport const INVALID_EXCEPTION_FILTER = `Invalid exception filters (@UseFilters()).`;\nexport const MICROSERVICES_PACKAGE_NOT_FOUND_EXCEPTION = `Unable to load @nestjs/microservices package. (Please make sure that it's already installed.)`;\n"]}