{"version":3,"file":"help-repl-fn.js","sourceRoot":"/Users/hanxiaoxue/Documents/work/frontEndDebugger/nest/packages/core/","sources":["repl/native-functions/help-repl-fn.ts"],"names":[],"mappings":";;;AAAA,qCAAkC;AAClC,0EAA2D;AAC3D,oDAAgD;AAGhD,MAAa,UAAW,SAAQ,4BAAY;IAA5C;;QACS,iBAAY,GAAqB;YACtC,IAAI,EAAE,MAAM;YACZ,SAAS,EAAE,YAAY;YACvB,WAAW,EAAE,8CAA8C;SAC5D,CAAC;IAqBJ,CAAC;IAfC,MAAM;QACJ,MAAM,qBAAqB,GAAG,IAAA,iBAAO,EAAC,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC;aAC5D,GAAG,CAAC,CAAC,CAAC,EAAE,cAAc,CAAC,EAAE,EAAE,CAAC,cAAc,CAAC,YAAY,CAAC;aACxD,OAAO,EAAE;aACT,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE9C,IAAI,CAAC,GAAG,CAAC,aAAa,CACpB,gBAAgB,qBAAG,CAAC,IAAI,CACtB,OAAO,CACR,wCAAwC,qBAAG,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ;YACpE,qBAAqB,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;YACjE,4DAA4D;YAC5D,IAAI,CACP,CAAC;IACJ,CAAC;;AAlBM,2BAAgB,GAAG,CAAC,EAAE,IAAI,EAAE,WAAW,EAAoB,EAAE,EAAE,CACpE,qBAAG,CAAC,UAAU,CAAC,IAAI,CAAC;IACpB,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,qBAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,WAAW,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,AAFlC,CAEmC;AAT/C,gCAAU","sourcesContent":["import { iterate } from 'iterare';\nimport { clc } from '@nestjs/common/utils/cli-colors.util';\nimport { ReplFunction } from '../repl-function';\nimport type { ReplFnDefinition } from '../repl.interfaces';\n\nexport class HelpReplFn extends ReplFunction {\n  public fnDefinition: ReplFnDefinition = {\n    name: 'help',\n    signature: '() => void',\n    description: 'Display all available REPL native functions.',\n  };\n\n  static buildHelpMessage = ({ name, description }: ReplFnDefinition) =>\n    clc.cyanBright(name) +\n    (description ? ` ${clc.bold('-')} ${description}` : '');\n\n  action(): void {\n    const sortedNativeFunctions = iterate(this.ctx.nativeFunctions)\n      .map(([, nativeFunction]) => nativeFunction.fnDefinition)\n      .toArray()\n      .sort((a, b) => (a.name < b.name ? -1 : 1));\n\n    this.ctx.writeToStdout(\n      `You can call ${clc.bold(\n        '.help',\n      )} on any function listed below (e.g.: ${clc.bold('help.help')}):\\n\\n` +\n        sortedNativeFunctions.map(HelpReplFn.buildHelpMessage).join('\\n') +\n        // Without the following LF the last item won't be displayed\n        '\\n',\n    );\n  }\n}\n"]}