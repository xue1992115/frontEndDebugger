{"version":3,"file":"kafka-logger.js","sourceRoot":"","sources":["kafka-logger.ts"],"names":[],"mappings":";;;;AAAA,iEAAuD;AAEhD,MAAM,WAAW,GACtB,CAAC,MAAW,EAAE,EAAE,CAChB,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE,EAAE;IACnC,IAAI,YAAoB,CAAC;IAEzB,QAAQ,KAAK,EAAE;QACb,KAAK,0BAAQ,CAAC,KAAK,CAAC;QACpB,KAAK,0BAAQ,CAAC,OAAO;YACnB,YAAY,GAAG,OAAO,CAAC;YACvB,MAAM;QACR,KAAK,0BAAQ,CAAC,IAAI;YAChB,YAAY,GAAG,MAAM,CAAC;YACtB,MAAM;QACR,KAAK,0BAAQ,CAAC,IAAI;YAChB,YAAY,GAAG,KAAK,CAAC;YACrB,MAAM;QACR,KAAK,0BAAQ,CAAC,KAAK,CAAC;QACpB;YACE,YAAY,GAAG,OAAO,CAAC;YACvB,MAAM;KACT;IAED,MAAM,EAAE,OAAO,KAAgB,GAAG,EAAd,MAAM,kBAAK,GAAG,EAA5B,WAAsB,CAAM,CAAC;IACnC,IAAI,MAAM,CAAC,YAAY,CAAC,EAAE;QACxB,MAAM,CAAC,YAAY,CAAC,CAClB,GAAG,KAAK,KAAK,SAAS,KAAK,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAC/D,CAAC;KACH;AACH,CAAC,CAAC;AA5BS,QAAA,WAAW,eA4BpB","sourcesContent":["import { logLevel } from '../external/kafka.interface';\n\nexport const KafkaLogger =\n  (logger: any) =>\n  ({ namespace, level, label, log }) => {\n    let loggerMethod: string;\n\n    switch (level) {\n      case logLevel.ERROR:\n      case logLevel.NOTHING:\n        loggerMethod = 'error';\n        break;\n      case logLevel.WARN:\n        loggerMethod = 'warn';\n        break;\n      case logLevel.INFO:\n        loggerMethod = 'log';\n        break;\n      case logLevel.DEBUG:\n      default:\n        loggerMethod = 'debug';\n        break;\n    }\n\n    const { message, ...others } = log;\n    if (logger[loggerMethod]) {\n      logger[loggerMethod](\n        `${label} [${namespace}] ${message} ${JSON.stringify(others)}`,\n      );\n    }\n  };\n"]}