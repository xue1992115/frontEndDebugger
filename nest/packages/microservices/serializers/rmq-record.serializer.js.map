{"version":3,"file":"rmq-record.serializer.js","sourceRoot":"","sources":["rmq-record.serializer.ts"],"names":[],"mappings":";;;AAAA,oEAA6D;AAG7D,wDAA+C;AAE/C,MAAa,mBAAmB;IAG9B,SAAS,CAAC,MAAwB;QAChC,IACE,CAAA,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,IAAI;YACZ,IAAA,uBAAQ,EAAC,MAAM,CAAC,IAAI,CAAC;YACrB,MAAM,CAAC,IAAI,YAAY,2BAAS,EAChC;YACA,MAAM,MAAM,GAAG,MAAM,CAAC,IAAiB,CAAC;YACxC,uCACK,MAAM,KACT,IAAI,EAAE,MAAM,CAAC,IAAI,EACjB,OAAO,EAAE,MAAM,CAAC,OAAO,IACvB;SACH;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;CACF;AAlBD,kDAkBC","sourcesContent":["import { isObject } from '@nestjs/common/utils/shared.utils';\nimport { ReadPacket } from '../interfaces';\nimport { Serializer } from '../interfaces/serializer.interface';\nimport { RmqRecord } from '../record-builders';\n\nexport class RmqRecordSerializer\n  implements Serializer<ReadPacket, ReadPacket & Partial<RmqRecord>>\n{\n  serialize(packet: ReadPacket | any): ReadPacket & Partial<RmqRecord> {\n    if (\n      packet?.data &&\n      isObject(packet.data) &&\n      packet.data instanceof RmqRecord\n    ) {\n      const record = packet.data as RmqRecord;\n      return {\n        ...packet,\n        data: record.data,\n        options: record.options,\n      };\n    }\n    return packet;\n  }\n}\n"]}