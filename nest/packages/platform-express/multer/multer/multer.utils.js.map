{"version":3,"file":"multer.utils.js","sourceRoot":"/Users/hanxiaoxue/Documents/work/frontEndDebugger/nest/packages/platform-express/","sources":["multer/multer/multer.utils.ts"],"names":[],"mappings":";;;AAAA,2CAIwB;AACxB,yDAAwE;AAExE,SAAgB,kBAAkB,CAAC,KAAwB;IACzD,IAAI,CAAC,KAAK,IAAI,KAAK,YAAY,sBAAa,EAAE;QAC5C,OAAO,KAAK,CAAC;KACd;IACD,QAAQ,KAAK,CAAC,OAAO,EAAE;QACrB,KAAK,mCAAgB,CAAC,eAAe;YACnC,OAAO,IAAI,iCAAwB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACrD,KAAK,mCAAgB,CAAC,gBAAgB,CAAC;QACvC,KAAK,mCAAgB,CAAC,eAAe,CAAC;QACtC,KAAK,mCAAgB,CAAC,iBAAiB,CAAC;QACxC,KAAK,mCAAgB,CAAC,iBAAiB,CAAC;QACxC,KAAK,mCAAgB,CAAC,qBAAqB,CAAC;QAC5C,KAAK,mCAAgB,CAAC,gBAAgB,CAAC;QACvC,KAAK,mCAAgB,CAAC,kBAAkB;YACtC,OAAO,IAAI,4BAAmB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAChD,KAAK,mCAAgB,CAAC,4BAA4B;YAChD,OAAO,IAAI,4BAAmB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAChD,KAAK,mCAAgB,CAAC,+BAA+B,CAAC;QACtD,KAAK,mCAAgB,CAAC,gCAAgC,CAAC;QACvD,KAAK,mCAAgB,CAAC,gCAAgC;YACpD,OAAO,IAAI,4BAAmB,CAAC,cAAc,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;KACjE;IACD,OAAO,KAAK,CAAC;AACf,CAAC;AAvBD,gDAuBC","sourcesContent":["import {\n  BadRequestException,\n  HttpException,\n  PayloadTooLargeException,\n} from '@nestjs/common';\nimport { multerExceptions, busboyExceptions } from './multer.constants';\n\nexport function transformException(error: Error | undefined) {\n  if (!error || error instanceof HttpException) {\n    return error;\n  }\n  switch (error.message) {\n    case multerExceptions.LIMIT_FILE_SIZE:\n      return new PayloadTooLargeException(error.message);\n    case multerExceptions.LIMIT_FILE_COUNT:\n    case multerExceptions.LIMIT_FIELD_KEY:\n    case multerExceptions.LIMIT_FIELD_VALUE:\n    case multerExceptions.LIMIT_FIELD_COUNT:\n    case multerExceptions.LIMIT_UNEXPECTED_FILE:\n    case multerExceptions.LIMIT_PART_COUNT:\n    case multerExceptions.MISSING_FIELD_NAME:\n      return new BadRequestException(error.message);\n    case busboyExceptions.MULTIPART_BOUNDARY_NOT_FOUND:\n      return new BadRequestException(error.message);\n    case busboyExceptions.MULTIPART_MALFORMED_PART_HEADER:\n    case busboyExceptions.MULTIPART_UNEXPECTED_END_OF_FORM:\n    case busboyExceptions.MULTIPART_UNEXPECTED_END_OF_FILE:\n      return new BadRequestException(`Multipart: ${error.message}`);\n  }\n  return error;\n}\n"]}