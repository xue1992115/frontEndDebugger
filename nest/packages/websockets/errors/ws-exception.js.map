{"version":3,"file":"ws-exception.js","sourceRoot":"/Users/hanxiaoxue/Documents/work/frontEndDebugger/nest/packages/websockets/","sources":["errors/ws-exception.ts"],"names":[],"mappings":";;;AAAA,oEAAuE;AAEvE,MAAa,WAAY,SAAQ,KAAK;IACpC,YAA6B,KAAsB;QACjD,KAAK,EAAE,CAAC;QADmB,UAAK,GAAL,KAAK,CAAiB;QAEjD,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAEM,WAAW;QAChB,IAAI,IAAA,uBAAQ,EAAC,IAAI,CAAC,KAAK,CAAC,EAAE;YACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC;SAC3B;aAAM,IACL,IAAA,uBAAQ,EAAC,IAAI,CAAC,KAAK,CAAC;YACpB,IAAA,uBAAQ,EAAE,IAAI,CAAC,KAA6B,CAAC,OAAO,CAAC,EACrD;YACA,IAAI,CAAC,OAAO,GAAI,IAAI,CAAC,KAA6B,CAAC,OAAO,CAAC;SAC5D;aAAM,IAAI,IAAI,CAAC,WAAW,EAAE;YAC3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI;iBACjC,KAAK,CAAC,qBAAqB,CAAC;iBAC5B,IAAI,CAAC,GAAG,CAAC,CAAC;SACd;IACH,CAAC;IAEM,QAAQ;QACb,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;CACF;AAxBD,kCAwBC","sourcesContent":["import { isObject, isString } from '@nestjs/common/utils/shared.utils';\n\nexport class WsException extends Error {\n  constructor(private readonly error: string | object) {\n    super();\n    this.initMessage();\n  }\n\n  public initMessage() {\n    if (isString(this.error)) {\n      this.message = this.error;\n    } else if (\n      isObject(this.error) &&\n      isString((this.error as Record<string, any>).message)\n    ) {\n      this.message = (this.error as Record<string, any>).message;\n    } else if (this.constructor) {\n      this.message = this.constructor.name\n        .match(/[A-Z][a-z]+|[0-9]+/g)\n        .join(' ');\n    }\n  }\n\n  public getError(): string | object {\n    return this.error;\n  }\n}\n"]}