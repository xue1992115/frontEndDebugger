{"version":3,"file":"gateway-metadata.interface.js","sourceRoot":"/Users/hanxiaoxue/Documents/work/frontEndDebugger/nest/packages/websockets/","sources":["interfaces/gateway-metadata.interface.ts"],"names":[],"mappings":"","sourcesContent":["import { CorsOptions } from '@nestjs/common/interfaces/external/cors-options.interface';\n\n/**\n * External interface\n * @see https://github.com/socketio/socket.io/blob/master/lib/index.ts \n * @publicApi\n */\nexport interface GatewayMetadata {\n  /**\n   * The name of a namespace\n   */\n  namespace?: string | RegExp;\n  /**\n   * Name of the path to capture\n   * @default \"/socket.io\"\n   */\n  path?: string;\n  /**\n   * Whether to serve the client files\n   * @default true\n   */\n  serveClient?: boolean;\n  /**\n   * The adapter to use\n   * @default the in-memory adapter (https://github.com/socketio/socket.io-adapter)\n   */\n  adapter?: any;\n  /**\n   * The parser to use\n   * @default the default parser (https://github.com/socketio/socket.io-parser)\n   */\n  parser?: any;\n  /**\n   * How many ms before a client without namespace is closed\n   * @default 45_000\n   */\n  connectTimeout?: number;\n  /**\n   * How many ms without a pong packet to consider the connection closed\n   * @default 20_000\n   */\n  pingTimeout?: number;\n  /**\n   * How many ms before sending a new ping packet\n   * @default 25_000\n   */\n  pingInterval?: number;\n  /**\n   * How many ms before an uncompleted transport upgrade is cancelled\n   * @default 10_000\n   */\n  upgradeTimeout?: number;\n  /**\n   * How many bytes or characters a message can be, before closing the session (to avoid DoS).\n   * @default 1e6 (1 MB)\n   */\n  maxHttpBufferSize?: number;\n  /**\n   * A function that receives a given handshake or upgrade request as its first parameter,\n   * and can decide whether to continue or not. The second argument is a function that needs\n   * to be called with the decided information: fn(err, success), where success is a boolean\n   * value where false means that the request is rejected, and err is an error code.\n   */\n  allowRequest?: (\n    req: any,\n    fn: (err: string | null | undefined, success: boolean) => void,\n  ) => void;\n  /**\n   * The low-level transports that are enabled\n   * @default [\"polling\", \"websocket\"]\n   */\n  transports?: Array<'polling' | 'websocket'>;\n  /**\n   * Whether to allow transport upgrades\n   * @default true\n   */\n  allowUpgrades?: boolean;\n  /**\n   * Parameters of the WebSocket permessage-deflate extension (see ws module api docs). Set to false to disable.\n   * @default false\n   */\n  perMessageDeflate?: boolean | object;\n  /**\n   * Parameters of the http compression for the polling transports (see zlib api docs). Set to false to disable.\n   * @default true\n   */\n  httpCompression?: boolean | object;\n  /**\n   * What WebSocket server implementation to use. Specified module must\n   * conform to the ws interface (see ws module api docs). Default value is ws.\n   * An alternative c++ addon is also available by installing uws module.\n   */\n  wsEngine?: string;\n  /**\n   * An optional packet which will be concatenated to the handshake packet emitted by Engine.IO.\n   */\n  initialPacket?: any;\n  /**\n   * Configuration of the cookie that contains the client sid to send as part of handshake response headers. This cookie\n   * might be used for sticky-session. Defaults to not sending any cookie.\n   * @default false\n   */\n  cookie?: any | boolean;\n  /**\n   * The options that will be forwarded to the cors module\n   */\n  cors?: CorsOptions;\n  /**\n   * Whether to enable compatibility with Socket.IO v2 clients\n   * @default false\n   */\n  allowEIO3?: boolean;\n  /**\n   * Destroy unhandled upgrade requests\n   * @default true\n   */\n  destroyUpgrade?: boolean;\n  /**\n   * Milliseconds after which unhandled requests are ended\n   * @default 1_000\n   */\n  destroyUpgradeTimeout?: number;\n}\n"]}