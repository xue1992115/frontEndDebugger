{"version":3,"file":"socket-gateway.decorator.js","sourceRoot":"/Users/hanxiaoxue/Documents/work/frontEndDebugger/nest/packages/websockets/","sources":["decorators/socket-gateway.decorator.ts"],"names":[],"mappings":";;;AAAA,4CAAgF;AAgBhF,SAAgB,gBAAgB,CAE9B,aAA0B,EAAE,OAAW;IACvC,MAAM,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC,aAAuB,CAAC,CAAC;IAC5D,wCAAwC;IACxC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC;IAE5E,GAAG,GAAG,GAAG,IAAK,EAAQ,CAAC;IACvB,OAAO,CAAC,MAAc,EAAE,EAAE;QACxB,OAAO,CAAC,cAAc,CAAC,4BAAgB,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;QACvD,OAAO,CAAC,cAAc,CAAC,yBAAa,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;QACpD,OAAO,CAAC,cAAc,CAAC,2BAAe,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC;IACvD,CAAC,CAAC;AACJ,CAAC;AAbD,4CAaC","sourcesContent":["import { GATEWAY_METADATA, GATEWAY_OPTIONS, PORT_METADATA } from '../constants';\nimport { GatewayMetadata } from '../interfaces';\n\n/**\n * Decorator that marks a class as a Nest gateway that enables real-time, bidirectional\n * and event-based communication between the browser and the server.\n *\n * @publicApi\n */\nexport function WebSocketGateway(port?: number): ClassDecorator;\nexport function WebSocketGateway<\n  T extends Record<string, any> = GatewayMetadata,\n>(options?: T): ClassDecorator;\nexport function WebSocketGateway<\n  T extends Record<string, any> = GatewayMetadata,\n>(port?: number, options?: T): ClassDecorator;\nexport function WebSocketGateway<\n  T extends Record<string, any> = GatewayMetadata,\n>(portOrOptions?: number | T, options?: T): ClassDecorator {\n  const isPortInt = Number.isInteger(portOrOptions as number);\n  // eslint-disable-next-line prefer-const\n  let [port, opt] = isPortInt ? [portOrOptions, options] : [0, portOrOptions];\n\n  opt = opt || ({} as T);\n  return (target: object) => {\n    Reflect.defineMetadata(GATEWAY_METADATA, true, target);\n    Reflect.defineMetadata(PORT_METADATA, port, target);\n    Reflect.defineMetadata(GATEWAY_OPTIONS, opt, target);\n  };\n}\n"]}