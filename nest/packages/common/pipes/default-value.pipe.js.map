{"version":3,"file":"default-value.pipe.js","sourceRoot":"/Users/hanxiaoxue/Documents/work/frontEndDebugger/nest/packages/common/","sources":["pipes/default-value.pipe.ts"],"names":[],"mappings":";;;;AAAA,kFAAqE;AAKrE,wDAAwD;AAExD;;;;;;GAMG;AACH,IACa,gBAAgB,GAD7B,MACa,gBAAgB;IAG3B,YAA+B,YAAe;QAAf,iBAAY,GAAZ,YAAY,CAAG;IAAG,CAAC;IAElD,SAAS,CAAC,KAAS,EAAE,SAA4B;QAC/C,IACE,IAAA,oBAAK,EAAC,KAAK,CAAC;YACZ,CAAC,IAAA,uBAAQ,EAAC,KAAK,CAAC,IAAI,KAAK,CAAC,KAA0B,CAAC,CAAC,EACtD;YACA,OAAO,IAAI,CAAC,YAAY,CAAC;SAC1B;QACD,OAAO,KAAK,CAAC;IACf,CAAC;CACF,CAAA;AAdY,gBAAgB;IAD5B,IAAA,iCAAU,GAAE;;GACA,gBAAgB,CAc5B;AAdY,4CAAgB","sourcesContent":["import { Injectable } from '../decorators/core/injectable.decorator';\nimport {\n  ArgumentMetadata,\n  PipeTransform,\n} from '../interfaces/features/pipe-transform.interface';\nimport { isNil, isNumber } from '../utils/shared.utils';\n\n/**\n * Defines the built-in DefaultValue Pipe\n *\n * @see [Built-in Pipes](https://docs.nestjs.com/pipes#built-in-pipes)\n *\n * @publicApi\n */\n@Injectable()\nexport class DefaultValuePipe<T = any, R = any>\n  implements PipeTransform<T, T | R>\n{\n  constructor(protected readonly defaultValue: R) {}\n\n  transform(value?: T, _metadata?: ArgumentMetadata): T | R {\n    if (\n      isNil(value) ||\n      (isNumber(value) && isNaN(value as unknown as number))\n    ) {\n      return this.defaultValue;\n    }\n    return value;\n  }\n}\n"]}