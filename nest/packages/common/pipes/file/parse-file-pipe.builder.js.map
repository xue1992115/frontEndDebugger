{"version":3,"file":"parse-file-pipe.builder.js","sourceRoot":"/Users/hanxiaoxue/Documents/work/frontEndDebugger/nest/packages/common/","sources":["pipes/file/parse-file-pipe.builder.ts"],"names":[],"mappings":";;;AAAA,+DAG+B;AAE/B,uEAGmC;AAEnC,uDAAkD;AAElD;;GAEG;AACH,MAAa,oBAAoB;IAAjC;QACU,eAAU,GAAoB,EAAE,CAAC;IA0B3C,CAAC;IAxBC,mBAAmB,CAAC,OAAoC;QACtD,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,8CAAoB,CAAC,OAAO,CAAC,CAAC,CAAC;IAC9D,CAAC;IAED,oBAAoB,CAAC,OAAiC;QACpD,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,uCAAiB,CAAC,OAAO,CAAC,CAAC,CAAC;IAC3D,CAAC;IAED,YAAY,CAAC,SAAwB;QACnC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAChC,OAAO,IAAI,CAAC;IACd,CAAC;IAED,KAAK,CACH,iBAAwD;QAExD,MAAM,aAAa,GAAG,IAAI,+BAAa,iCAClC,iBAAiB,KACpB,UAAU,EAAE,IAAI,CAAC,UAAU,IAC3B,CAAC;QAEH,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,OAAO,aAAa,CAAC;IACvB,CAAC;CACF;AA3BD,oDA2BC","sourcesContent":["import {\n  FileTypeValidator,\n  FileTypeValidatorOptions,\n} from './file-type.validator';\nimport { FileValidator } from './file-validator.interface';\nimport {\n  MaxFileSizeValidator,\n  MaxFileSizeValidatorOptions,\n} from './max-file-size.validator';\nimport { ParseFileOptions } from './parse-file-options.interface';\nimport { ParseFilePipe } from './parse-file.pipe';\n\n/**\n * @publicApi\n */\nexport class ParseFilePipeBuilder {\n  private validators: FileValidator[] = [];\n\n  addMaxSizeValidator(options: MaxFileSizeValidatorOptions) {\n    return this.addValidator(new MaxFileSizeValidator(options));\n  }\n\n  addFileTypeValidator(options: FileTypeValidatorOptions) {\n    return this.addValidator(new FileTypeValidator(options));\n  }\n\n  addValidator(validator: FileValidator) {\n    this.validators.push(validator);\n    return this;\n  }\n\n  build(\n    additionalOptions?: Omit<ParseFileOptions, 'validators'>,\n  ): ParseFilePipe {\n    const parseFilePipe = new ParseFilePipe({\n      ...additionalOptions,\n      validators: this.validators,\n    });\n\n    this.validators = [];\n    return parseFilePipe;\n  }\n}\n"]}