{"version":3,"file":"max-file-size.validator.js","sourceRoot":"/Users/hanxiaoxue/Documents/work/frontEndDebugger/nest/packages/common/","sources":["pipes/file/max-file-size.validator.ts"],"names":[],"mappings":";;;AAAA,yEAA2D;AAM3D;;;;;;GAMG;AACH,MAAa,oBAAqB,SAAQ,wCAA0C;IAClF,iBAAiB;QACf,OAAO,iDAAiD,IAAI,CAAC,iBAAiB,CAAC,OAAO,GAAG,CAAC;IAC5F,CAAC;IAEM,OAAO,CAAC,IAAS;QACtB,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;YAC3B,OAAO,IAAI,CAAC;SACb;QAED,OAAO,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC;IACpD,CAAC;CACF;AAZD,oDAYC","sourcesContent":["import { FileValidator } from './file-validator.interface';\n\nexport type MaxFileSizeValidatorOptions = {\n  maxSize: number;\n};\n\n/**\n * Defines the built-in MaxSize File Validator\n *\n * @see [File Validators](https://docs.nestjs.com/techniques/file-upload#file-validation)\n *\n * @publicApi\n */\nexport class MaxFileSizeValidator extends FileValidator<MaxFileSizeValidatorOptions> {\n  buildErrorMessage(): string {\n    return `Validation failed (expected size is less than ${this.validationOptions.maxSize})`;\n  }\n\n  public isValid(file: any): boolean {\n    if (!this.validationOptions) {\n      return true;\n    }\n\n    return file.size < this.validationOptions.maxSize;\n  }\n}\n"]}